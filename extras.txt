@app.route('/api/getInfoDetailed/<string:name>/<int:id>', strict_slashes=False, methods=["GET"])
def getInfoDetailed(name, id):
    user = User.query.filter_by(name=name, id=id).first()

    if user is None:
        return jsonify({"error": "This admin does not exist"}), 404

    if not user.is_admin:
        return jsonify({"error": "You are not authorized"}), 401

    users = User.query.all()
    user_list = []
    for user in users:
        user_data = {
            "id": user.id,
            "name": user.name,
            "email": user.email,
            "is_admin": user.is_admin,
        }
        user_list.append(user_data)

    if user_list:
        return jsonify(user_list), 200
